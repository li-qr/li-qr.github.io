---
title: B树
categories:
- 数据结构
- algorithm
description: 在计算机科学中，B树是一种自平衡的树形数据结构，它可以保持数据的顺序，并允许在对数时间内进行搜索、顺序访问、插入和删除。
permalink: "/posts/b-tree"
excerpt: 在计算机科学中，B树是一种自平衡的树形数据结构，它可以保持数据的顺序，并允许在对数时间内进行搜索、顺序访问、插入和删除。B树概括了二进制搜索树，允许节点有两个以上的子节点。与其他自平衡二进制搜索树不同，B树很适合用于读写相对较大的数据块的存储系统，如磁盘。它通常被用于数据库和文件系统中。
---

+[B tree](https://en.wikipedia.org/wiki/B-tree)

在计算机科学中，B树是一种自平衡的树形数据结构，它可以保持数据的顺序，并允许在对数时间内进行搜索、顺序访问、插入和删除。B树概括了二进制搜索树，允许节点有两个以上的子节点。与其他自平衡二进制搜索树不同，B树很适合用于读写相对较大的数据块的存储系统，如磁盘。它通常被用于数据库和文件系统中。

B树是在波音研究室中被发明出来的，目的是为了有效管理大型随机访问文件的索引页。基本的假设是，索引的数量非常大，以至于只有小块的树可以放在主内存中。相关论文[Organization and maintenance of large ordered indices](/assets/pdf/BayerBTree-72.pdf)。作者从未解释过 `B` 代表什么。“你越是思考B树中的B是什么意思，你就能越理解B树”。

## 定义

根据定义，一个阶数为 `m` 的B树具有以下属性：
1. 每个节点最多有 m 个子节点
2. 除了根节点外，每个非叶子节点最少有 m/2 个子节点
3. 如果根节点不是叶子节点，它至少有 2 个子节点
4. 一个有 k 个子节点的非叶子节点包含 k-1 个键
5. 所有叶子节点都在同一层级，且不携带任何信息

每个内部节点的键作为分隔值划分其子树。例如一个内部节点有 3 个子节点（或子树），那么它必须有两个键：$$a_1$$ 和 $$a_2$$。最左边的子树中所有值都小于 $$a_1$$，中间的子树中所有值都介于 $$a_1$$ 和 $$a_2$$ 之间，右边的子树中所有值都大于 $$a_2$$。

### 内部节点

所有非根节点和叶子节点都是内部节点。